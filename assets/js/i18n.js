// ========================================
// Multi-language Support
// ========================================

export const translations = {
    pt: {
        'nav.help': 'Como ajudar',
        'nav.adopt': 'Adotar',
        'nav.sponsor': 'Apadrinhar',
        'nav.about': 'Quem somos',
        'donation': 'Doação',
        'hero.title': 'Bem-vindo ao Instituto Luisa Mell',
        'about.title': 'Instituto Luisa Mell é uma organização não governamental',
        'about.desc': 'Fundado em 2015 pela ativista e apresentadora Luisa Mell, o instituto tem como missão promover a defesa dos direitos dos animais, combater maus-tratos e conscientizar a sociedade sobre a importância do respeito e da compaixão para com todas as espécies. +500 animais resgatados em 2024. +300 animais adotados em 2024.',
        'rescues.title': 'Resgates Marcantes',
        'rescues.desc': 'Cada resgate é uma história de superação, esperança e amor. No Instituto Luisa Mell, já salvamos milhares de animais de situações extremas.',
        'how.title': 'Como transformamos vidas',
        'how.step1': '1. Etapa/ação do fluxo',
        'how.step2': '2. Etapa/ação do fluxo',
        'how.step3': '3. Etapa/ação do fluxo',
        'partners.title': 'Nossos Parceiros',
        'partners.note': 'Link para página do parceiro',
        'hero.banner': 'BANNERS (institucional, Doação, Sorteio, Adoção)',
        'about.galleryCount': '4 fotos',
        'how.col1.li1': 'Bullet de exemplo 1.',
        'how.col1.li2': 'Bullet de exemplo 2.',
        'how.col1.li3': 'Bullet de exemplo 3.',
        'how.col2.li1': 'Bullet de exemplo 1.',
        'how.col2.li2': 'Bullet de exemplo 2.',
        'how.col2.li3': 'Bullet de exemplo 3.',
        'how.col3.li1': 'Bullet de exemplo 1.',
        'how.col3.li2': 'Bullet de exemplo 2.',
        'how.col3.li3': 'Bullet de exemplo 3.',
        'how.diagram': 'Diagrama',
        'footer.desc': 'O Instituto Luisa Mell trabalha para resgatar, cuidar e promover adoções responsáveis de animais em situação de abandono e maus-tratos.',
        'footer.volunteer': 'Ser Voluntário',
        'footer.ambassador': 'Ser Embaixador',
        'footer.report': 'Denunciar',
        'footer.faq': 'FAQ',
        'footer.transparency': 'Transparência',
        'footer.privacy': 'Política de Privacidade e Termos de Uso',
        'footer.rights': '© Todos direitos reservados'
    },
    en: {
        'nav.help': 'How to Help',
        'nav.adopt': 'Adopt',
        'nav.sponsor': 'Sponsor',
        'nav.about': 'About Us',
        'donation': 'Donate',
        'hero.title': 'Welcome to Luisa Mell Institute',
        'about.title': 'Luisa Mell Institute is a non-governmental organization',
        'about.desc': 'Founded in 2015 by activist and presenter Luisa Mell, the institute aims to promote animal rights, combat mistreatment and raise awareness about the importance of respect and compassion for all species. 500+ animals rescued in 2024. 300+ animals adopted in 2024.',
        'rescues.title': 'Notable Rescues',
        'rescues.desc': 'Each rescue is a story of overcoming, hope and love. At the Luisa Mell Institute we have saved thousands of animals from extreme situations.',
        'how.title': 'How We Transform Lives',
        'how.step1': '1. Step / action of the flow',
        'how.step2': '2. Step / action of the flow',
        'how.step3': '3. Step / action of the flow',
        'partners.title': 'Our Partners',
        'partners.note': 'Link to partner page',
        'hero.banner': 'BANNERS (institutional, Donation, Raffle, Adoption)',
        'about.galleryCount': '4 photos',
        'how.col1.li1': 'Example bullet 1.',
        'how.col1.li2': 'Example bullet 2.',
        'how.col1.li3': 'Example bullet 3.',
        'how.col2.li1': 'Example bullet 1.',
        'how.col2.li2': 'Example bullet 2.',
        'how.col2.li3': 'Example bullet 3.',
        'how.col3.li1': 'Example bullet 1.',
        'how.col3.li2': 'Example bullet 2.',
        'how.col3.li3': 'Example bullet 3.',
        'how.diagram': 'Diagram',
        'footer.desc': 'The Luisa Mell Institute works to rescue, care for, and promote responsible adoption of abandoned and mistreated animals.',
        'footer.volunteer': 'Be a Volunteer',
        'footer.ambassador': 'Be an Ambassador',
        'footer.report': 'Report Abuse',
        'footer.faq': 'FAQ',
        'footer.transparency': 'Transparency',
        'footer.privacy': 'Privacy Policy and Terms of Use',
        'footer.rights': '© All rights reserved'
    },
    es: {
        'nav.help': 'Cómo ayudar',
        'nav.adopt': 'Adoptar',
        'nav.sponsor': 'Apadrinar',
        'nav.about': 'Quiénes somos',
        'donation': 'Donación',
        'hero.title': 'Bienvenido al Instituto Luisa Mell',
        'about.title': 'El Instituto Luisa Mell es una organización no gubernamental',
        'about.desc': 'Fundado en 2015 por la activista y presentadora Luisa Mell, el instituto tiene como misión promover la defensa de los derechos de los animales, combatir el maltrato y concienciar a la sociedad sobre la importancia del respeto y la compasión hacia todas las especies. Más de 500 animales rescatados en 2024. Más de 300 animales adoptados en 2024.',
        'rescues.title': 'Rescates Notables',
        'rescues.desc': 'Cada rescate es una historia de superación, esperanza y amor. En el Instituto Luisa Mell hemos salvado miles de animales de situaciones extremas.',
        'how.title': 'Cómo transformamos vidas',
        'how.step1': '1. Etapa/acción del flujo',
        'how.step2': '2. Etapa/acción del flujo',
        'how.step3': '3. Etapa/acción del flujo',
        'partners.title': 'Nuestros Socios',
        'partners.note': 'Enlace a la página del socio',
        'hero.banner': 'BANNERS (institucional, Donación, Sorteo, Adopción)',
        'about.galleryCount': '4 fotos',
        'how.col1.li1': 'Bullet de ejemplo 1.',
        'how.col1.li2': 'Bullet de ejemplo 2.',
        'how.col1.li3': 'Bullet de ejemplo 3.',
        'how.col2.li1': 'Bullet de ejemplo 1.',
        'how.col2.li2': 'Bullet de ejemplo 2.',
        'how.col2.li3': 'Bullet de ejemplo 3.',
        'how.col3.li1': 'Bullet de ejemplo 1.',
        'how.col3.li2': 'Bullet de ejemplo 2.',
        'how.col3.li3': 'Bullet de ejemplo 3.',
        'how.diagram': 'Diagrama',
        'footer.desc': 'El Instituto Luisa Mell trabaja para rescatar, cuidar y promover la adopción responsable de animales abandonados y maltratados.',
        'footer.volunteer': 'Ser Voluntario',
        'footer.ambassador': 'Ser Embajador',
        'footer.report': 'Denunciar',
        'footer.faq': 'FAQ',
        'footer.transparency': 'Transparencia',
        'footer.privacy': 'Política de Privacidad y Términos de Uso',
        'footer.rights': '© Todos los derechos reservados'
    }
};

// Current language state
export let currentLang = 'pt';

// ========================================
// Language Switching (Core)
// ========================================

export function changeLanguage(lang) {
    currentLang = lang;

    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });

    // Update HTML lang attribute
    document.documentElement.lang = lang;

    // Update hidden native select (para manter compatibilidade)
    const selectElement = document.getElementById('language-select');
    if (selectElement) {
        selectElement.value = lang;
    }

    // Save preference to localStorage
    localStorage.setItem('preferredLanguage', lang);

    // Dispatch custom event for other modules to listen
    document.dispatchEvent(new CustomEvent('languageChanged', { detail: { lang } }));
}

export function loadSavedLanguage() {
    const savedLang = localStorage.getItem('preferredLanguage');
    if (savedLang && translations[savedLang]) {
        changeLanguage(savedLang);
        return savedLang;
    }
    return currentLang;
}
